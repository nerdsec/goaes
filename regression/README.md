# tests

This directory contains encrypted files generated by multiple versions of GoAES.
Each file is Base64-encoded. All future releases must preserve the ability to
decrypt data produced by prior versions in order to maintain backward compatibility.

The tests use this key: `kL9ntTh/DlgAAhu/AVYp17Qx9FaMjL7HZbpHK9hQyiE=`

## Creating a test file

```bash
echo "v1.0.0" > ./tests/v1.0.0.txt
sha256sum ./tests/v1.0.0.txt >> ./tests/checksums.txt
GOPASSPHRASE=kL9ntTh/DlgAAhu/AVYp17Qx9FaMjL7HZbpHK9hQyiE= goaes e ./tests/v1.0.0.txt ./tests/v1.0.0.txt.goaes
cat ./tests/v1.0.0.txt.goaes | base64 -o ./tests/v1.0.0.txt.goaes.base64
```

## Validating a new version

```bash
cat ./tests/v1.0.0.txt.goaes.base64 | base64 -d -o ./tests/v1.0.0.txt.goaes
GOPASSPHRASE=kL9ntTh/DlgAAhu/AVYp17Qx9FaMjL7HZbpHK9hQyiE= goaes d ./tests/v1.0.0.txt.goaes ./tests/v1.0.0.txt
sha256sum -c ./tests/checksums.txt
```
